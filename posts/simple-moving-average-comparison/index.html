<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/css/jtd.css"> <link rel=icon  href="/assets/favicon.ico"> <title>Simple moving average speed comparison in Julia, Python and R</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/" class=title > StatisticalMice Blog </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item active"><a href="/" class="menu-list-link ">Home</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/posts/julia-python-r/" class=menu-list-link >Julia, Python and R compared *(draft)*</a> <li class="menu-list-item "><a href="/posts/simple-moving-average-comparison" class=menu-list-link >Simple moving average speed comparison *(draft)*</a> </ul> <li class="menu-list-item "><a href="/resources/" class="menu-list-link ">Resources</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/resources/franklin-franklin/" class="menu-list-link ">Franklin</a> <li class="menu-list-item "><a href="/resources/franklin-code-blocks/" class="menu-list-link ">Code blocks</a> <li class="menu-list-item "><a href="/resources/franklin-goodies/" class="menu-list-link ">More goodies</a> <li class="menu-list-item "><a href="/resources/franklin-tags/" class="menu-list-link ">Tags</a> </ul> </ul> </div> <div class=footer > <img src="/assets/large/mouse.png" alt="Image of a mouse" width=420  height=375 > </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="https://github.com/StatisticalMice/">StatisticalMice on GitHub</a> </div> <div class=franklin-content ><h1 id=simple_moving_average_speed_comparison_in_julia_python_and_r ><a href="#simple_moving_average_speed_comparison_in_julia_python_and_r">Simple moving average speed comparison in Julia, Python and R</a></h1> <p><a href="https://en.wikipedia.org/wiki/Moving_average">Simple moving average in Wikipedia</a></p> <p>The task is to calculate the simple moving average for a dataframe column containing 1,000,000 samples from the standard normal distribution and storing it in another column. The sliding window is of length 10.</p> <h2 id=python ><a href="#python">Python</a></h2> <ul> <li><p>Running the jupyter notebook took 0.70 seconds. </p> <li><p>Calculating SMA by calling Numpy directly took 28 ms &#40;mean&#41;.</p> <li><p>Calculating SMA by calling Numpy via a user defined function took 6.03 <em>seconds</em> &#40;mean&#41;.</p> <li><p>Calculating SMA by calling Numpy via a user defined function, but accelerating with Numba could not be run yet, because at the time of writing it is not supported in Python 3.9. A previous run of this took 202 ms &#40;mean&#41;.</p> </ul> <p><a href="https://nbviewer.jupyter.org/github/StatisticalMice/ProjectsPublic/blob/main/Benchmarks/python-moving-average.ipynb">Python notebook</a></p> <h2 id=julia ><a href="#julia">Julia</a></h2> <ul> <li><p>Running the jupyter notebook took 9.0 seconds.</p> <li><p>Calculating SMA took 14 ms &#40;mean&#41;. </p> </ul> <p><a href="https://nbviewer.jupyter.org/github/StatisticalMice/ProjectsPublic/blob/main/Benchmarks/julia-moving-average.ipynb">Julia notebook</a></p> <h2 id=r ><a href="#r">R</a></h2> <p>Not done yet.</p> <div class=page-foot > <div class=copyright > &copy; Ari Huttunen. Last modified: November 21, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->